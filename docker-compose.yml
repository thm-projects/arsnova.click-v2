version: '3.7'

services:

  master:
    image: arsnova/arsnova-click-frontend:2.0.0
    hostname: antworte-jetzt-frontend
    container_name: antworte-jetzt-frontend-master
    build:
      context: .
      dockerfile: Dockerfile
      args:
        buildCmd: "PROD"
        targetUrl: "https://antworte.jetzt"
        themes: "[\"Material\",\"blackbeauty\"]"
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
        CHROMIUM_PATH: "/usr/bin/chromium-browser"
        CHROME_BIN: "/usr/bin/chromium-browser"
    ports:
      - 8080:4000

  staging:
    image: arsnova/arsnova-click-frontend:2.0.0-staging
    hostname: antworte-jetzt-frontend
    container_name: antworte-jetzt-frontend-staging
    build:
      context: .
      dockerfile: Dockerfile
      args:
        buildCmd: "STAGING_THM"
        targetUrl: "https://antworte.jetzt"
        themes: "[\"Material\",\"blackbeauty\"]"
        PUPPETEER_SKIP_CHROMIUM_DOWNLOAD: "true"
        CHROMIUM_PATH: "/usr/bin/chromium-browser"
        CHROME_BIN: "/usr/bin/chromium-browser"
    ports:
      - 8090:4000

  local:
    image: arsnova/arsnova-click-frontend:2.0.0-local
    hostname: arsnova-click-frontend
    container_name: arsnova-click-frontend-local
    build:
      context: .
      dockerfile: Dockerfile-local
    ports:
      - 4210:4210
